<style>
b {
  margin-right: 10px;
}
.p0, .p1 {
  display: none;
}
</style>

<b class='b p2'>bb</b><b class='b p1'>b</b>

<script>
B = b => document.querySelector(b);
bb = 'innerText';
n = 40;
n = 4_000;
n = 4_000_000;
for(;b =
  (b => {
    b.classList.add(
      'b',
      'p'
      +(
        +
        Array.from(B('.b').classList)
          .filter(b=>b!=='b')
          .map(b => b[1])
        +1
      )
      % 3
    );
    b[bb] = B('.b')[bb] + B('.b:not(:first-child)')[bb];
    if (b[bb].length <= n) return b
  })(document.createElement('b'))
;) document.body.prepend(b);
console.log(document.body[bb].length);
</script>
